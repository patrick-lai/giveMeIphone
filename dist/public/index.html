
<!DOCTYPE html>
<html>
    <head>
      <link rel="stylesheet" type="text/css" href="main.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/material-design-lite/1.2.1/material.min.css" />
    </head>
    <body ng-controller="MainCtrl" ng-cloak>
      <form action="#">
        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
          <input class="mdl-textfield__input" type="text" id="token" ng-model="token">
          <label class="mdl-textfield__label" for="token">Token</label>
        </div>
        <!-- Raised button with ripple -->
        <button ng-click="saveTokenAndFetch()" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect">
          Save Token
        </button>
      </form>

      <div ng-show="countDown"> {{status}}  | Next Refresh : {{countDown}} seconds</div>

      <div>
        <h5>States</h5>
        <label class="mdl-switch mdl-js-switch mdl-js-ripple-effect" ng-repeat="state in states" >
          <input type="checkbox" class="mdl-switch__input" ng-model="checkedStates[state]">
          <span class="mdl-switch__label">{{state}}</span>
        </label>
      </div>

      <div>
        <h5>Models</h5>
        <label class="mdl-switch mdl-js-switch mdl-js-ripple-effect" ng-repeat="phone in phones" style="min-width: 300px;">
          <input type="checkbox" class="mdl-switch__input" ng-model="checkedPhones[phone.partNumber]">
          <span class="mdl-switch__label">{{phone.storePickupProductTitle}}</span>
        </label>
      </div>

      <!-- Cards -->
      <div style="width: 100%;">
        <div ng-repeat="store in data" class="demo-card-wide mdl-card mdl-shadow--2dp" ng-show="isStateChecked(store.state)">
          <div class="mdl-card__title" style="background: url('{{store.storeImageUrl}}') center / cover; height: 200px;">
            <h2 class="mdl-card__title-text" style="color: white;">{{store.storeName}}</h2>
          </div>
          <div class="mdl-card__supporting-text">
            <p ng-repeat="phone in store.partsAvailability" ng-show="isPhoneChecked(phone.partNumber)">
              {{phone.storePickupProductTitle}} : <span ng-class="{'green' : phone.storeSelectionEnabled, 'grey' : !phone.storeSelectionEnabled}">{{phone.pickupDisplay}}</span>
            </p>
          </div>
          <div class="mdl-card__actions mdl-card--border">
            <a href="{{store.makeReservationUrl}}" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">
              Order Now
            </a>
          </div>
        </div>
      </div>

      <!-- scripts -->
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/push.js/0.0.11/push.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.8/angular.min.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.16.4/lodash.min.js"></script>

      <!-- Vendor -->
      <script type="text/javascript" src="/vendor/ng-lodash.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/material-design-lite/1.2.1/material.min.js"></script>

      <!-- App -->
      <script type="text/javascript" src="/scripts/app.js"></script>
    </body>
</html>
