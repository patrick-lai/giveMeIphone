
<!DOCTYPE html>
<html>
    <head>
      <link rel="stylesheet" type="text/css" href="main.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/material-design-lite/1.2.1/material.min.css" />
    </head>
    <body ng-controller="MainCtrl" ng-cloak>

      <form action="#">
        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
          <input class="mdl-textfield__input" type="text" id="token" ng-model="token">
          <label class="mdl-textfield__label" for="token">Token</label>
        </div>
        <!-- Raised button with ripple -->
        <button ng-click="saveTokenAndFetch()" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect" style="margin: 0 1em;">
          Save Token
        </button>

        <label class="mdl-switch mdl-js-switch mdl-js-ripple-effect">
          <input type="checkbox" class="mdl-switch__input" ng-model="notifications">
          <span class="mdl-switch__label">Notifications</span>
        </label>
      </form>

      <div ng-show="countDown"> {{status}}  | Next Refresh : {{countDown}} seconds</div>

      <div>
        <h5>States</h5>
        <label ng-click="updateStorage()" class="mdl-switch mdl-js-switch mdl-js-ripple-effect" ng-repeat="state in states" >
          <input type="checkbox" class="mdl-switch__input" ng-model="checkedStates[state]">
          <span class="mdl-switch__label">{{state}}</span>
        </label>
      </div>

      <div>
        <h5>Models</h5>
        <label ng-click="updateStorage()" class="mdl-switch mdl-js-switch mdl-js-ripple-effect" ng-repeat="phone in phones" style="min-width: 300px;">
          <input type="checkbox" class="mdl-switch__input" ng-click="updateStorage()" ng-model="checkedPhones[phone.partNumber]">
          <span class="mdl-switch__label">{{phone.storePickupProductTitle}}</span>
        </label>
      </div>

      <!-- Cards -->
      <div style="width: 100%;">
        <div ng-repeat="store in data" class="demo-card-wide mdl-card mdl-shadow--2dp" ng-show="isStateChecked(store.state)">
          <div class="mdl-card__title" style="background-color: #444; height: 100px;">
            <h2 class="mdl-card__title-text" style="color: white;">{{store.storeName}}</h2>
          </div>
          <div class="mdl-card__supporting-text">
            <p ng-repeat="phone in store.partsAvailability" ng-if="isPhoneChecked(phone.partNumber)" ng-init="notify(phone)">
              {{phone.storePickupProductTitle}} : <span ng-class="{'green' : phone.storeSelectionEnabled, 'grey' : !phone.storeSelectionEnabled}">{{phone.pickupDisplay}}</span>
            </p>
          </div>
          <div class="mdl-card__actions mdl-card--border">
            <a href="{{store.makeReservationUrl}}" target="_blank" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">
              Go to Store Site
            </a>
          </div>
        </div>
      </div>

      <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top" style="margin: 2em 0;">
        <span style="font-size: 20pt;">If we helped you find your iPhone. Please donate!
          <input type="hidden" name="cmd" value="_s-xclick">
          <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----
        ">
          <input type="image" src="https://www.paypalobjects.com/en_AU/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal â€“ The safer, easier way to pay online!">
          <img alt="" border="0" src="https://www.paypalobjects.com/en_AU/i/scr/pixel.gif" width="1" height="1">
        </span>
      </form>


      <!-- scripts -->
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/push.js/0.0.11/push.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.8/angular.min.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.16.4/lodash.min.js"></script>

      <!-- Vendor -->
      <script type="text/javascript" src="/vendor/ng-lodash.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/material-design-lite/1.2.1/material.min.js"></script>

      <!-- App -->
      <script type="text/javascript" src="/scripts/app.js"></script>

      <!-- GA code -->
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-86107105-1', 'auto');
        ga('send', 'pageview');

      </script>

    </body>
</html>
